---
title: 네트워크 기초
date: 2024-01-04
categories: ["NETWORK"]
tags: ['networking']     # TAG names should always be lowercase
toc: true
---

네트워크 공부 복습겸 정리한것

# 프로토콜 스택

* 애플리케이션 계층: FTP, SSH, TELENT, DNS, SMTP
* 트랜스포트 계층: TCP/UDP
* 네트워크 계층: ICMP/IP/ARP
* 데이터링크/피지컬 계층: 이더넷계층

# OSI 7계층과 TCP/IP 4계층

TCP/IP는 좀 더 실용성에 중점을 두었다.

-------------------------

OSI 7계층/TCP 4계층

7: 애플리케이션 계층/애플리케이션 계층

6: 프레젠테이션 계층/애플리케이션 계층

5: 세션 계층/애플리케이션 계층

4: 트랜스포트 계층/트랜스포트 계층

3: 네트워크 계층/인터넷 계층

2: 데이터 링크 계층/네트워크 액세스 계층

1: 피지컬 계층/네트워크 액세스 계층

--------------------------

# 계층별 요약

## 1계층: 피지컬 계층(물리계층)

정말 말그대로 물리적 연결과 관련된 정보를 정의한다. 전기신호 전달에 초점이 맞추어져 있다. 주소(MAC, IP)의 개념이 없어서 전기신호가 들어온 포트를 제외하고 모든 포트로 전기신호를 그대로 전달한다.
> 주요장비: 허브, 리피터, 케이블, 커넥터, 트랜시버, 탭
{: .prompt-info }

## 2계층: 데이터 링크 계층 (네트워크 액세스 혹은 네트워크 계층)

주소(MAC)의 개념이 등장하여, 주소 정보를 정의하고 정확한 주소로 통신을 하는게 목표이다. 주소가 생김으로써 동시에 여러명과 통신할수 있고, 무작정 데이터를 모든 목적지로 보내는것이 아니라, 받는 사람이 현재 데이터를 수신가능한지도 확인하는 `플로 컨트롤`도 가능하다.
> 주요장비: 스위치, 네트워크 인터페이스 카드(NIC)
{: .prompt-info }

## 3계층: 네트워크 계층(인터넷 계층)

흔히 우리가 말하는 IP주소라는 개념이 처음 생기는 계층이다. 데이터 통신을 할때는 크게 두가지의 주소가 필요하다. `2계층의 물리적인 MAC 주소 + 3계층의 논리적인 IP 주소`

우리가 흔히 쓰는 192.168.0.1 이런 주소는 IPv4 주소 체계이며, 크게 네트워크 주소와 호스트 주소도 나뉜다.
> 주요장비: 라우터
{: .prompt-info }

## 4계층: 트랜스포트 계층

앞서 살펴보았던 1,2,3계층의 주요 목적은 신호와 데이터를 올바른 위치로 보내고 실제 신호를 잘 만들어 보내는 것이다. 하지만 `4계층은 실제로 해당 데이터들이 정상적으로 잘 보내지는지 확인하는 역할을 맡는다.` -> 4계층에서 패킷을 분할할 때 패킷의 헤더에 보내는 순서(SEQ)와 받는 순서(ACK)를 적어서 패킷의 순서가 뒤바뀌어도 제대로 바로잡을수 있게 해준다. 
> 주요장비: 로드 밸런서(L4), 방화벽
{: .prompt-info }

## 5계층: 세션 계층

양 끝단의 응용 프로세스가 연결을 성립하게 도와주고 연결이 안정적으로 유지되도록 관리하고, 연결이 종료되면 연결을 끊는다.

## 6계층: 프레젠테이션 계층

통신을 돕기 위해 하나의 통일된 구문 형식으로 변환시키는 기능을 수행한다. (암호화, 압축, 코드변환등)

## 7계층: 애플리케이션 계층

애플리케이션 프로세스를 정의하고 애플리케이션 서비스를 실제로 수행한다. 해당 계층의 프로토콜의 예시로 자주 쓰이는 FTP, SMTP, HTTP 등이 있다.

# 데이터의 흐름

우리가 통신을 하게되면 위 계층따라 데이터가 흐르게 된다. 

`송신자 -> 7 -> 6 ->..... -> 1 -> 1 -> 2 -> 3 .. -> 7 -> 수신자.`

이때 데이터는 패킷이라는 작은 단위로 작게 쪼개져서 보내진다.(이렇게하면 하나의 통신이 회선 전체를 점유하지 않으므로 여러 단말의 통신이 가능해진다.)
7계층에서 출발한 패킷은 1계층으로 내려가면서 패킷에 데이터를 넣을수 있도록 분할하는데 이 과정을 `인캡슐레이션`이라고 부른다. 이때 4계층부터 네트워크 전송을 위한 정보를 헤더에 붙여 넣는다. 반대로 받는 쪽에서는 (1->2->...수신자) `디캡슐레이션` 과정을 수행한다.
> 보내는 4계층에서 헤더에 넣은 정보는, 받는 4계층에서 사용할 정보다
{: .prompt-info }
> 헤더에는 두가지 정보가 꼭 포함되어야 한다. 현재 계층에서 정의하는 정보와 상위 프로토콜 지시자
{: .prompt-info }